<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scribe | AI for Education</title>
  <style>
    #body {
      margin: 20px;
      padding: 0;
    }

    #promptTextArea {
      /* height: 40px;
      resize: none;
      margin: 20px;
      width: 100%;
      box-sizing: border-box; */
      text-size-adjust: 100%;
    tab-size: 4;
    --rem: 16;
    --white: #fff;
    --black: #000;
    --gray-50: #f7f7f8;
    --gray-100: #ececf1;
    --gray-200: #d9d9e3;
    --gray-300: #c5c5d2;
    --gray-400: #acacbe;
    --gray-500: #8e8ea0;
    --gray-600: #565869;
    --gray-700: #40414f;
    --gray-800: #343541;
    --gray-900: #202123;
    --gray-950: #050509;
    --gizmo-gray-500: #999;
    --gizmo-gray-600: #666;
    --gizmo-gray-950: #0f0f0f;
    --brand-purple: #ab68ff;
    --text-primary: var(--gray-100);
    --text-secondary: var(--gray-300);
    --text-tertiary: var(--gizmo-gray-500);
    --surface-primary: var(--gray-900);
    --surface-secondary: var(--gray-800);
    --surface-tertiary: var(--gray-700);
    --border-light: rgba(217,217,227,.1);
    --border-medium: rgba(217,217,227,.15);
    --border-heavy: rgba(217,217,227,.2);
    --border-xheavy: rgba(217,217,227,.25);
    color-scheme: dark;
    -webkit-font-smoothing: antialiased;
    --tw-bg-opacity: 1;
    --tw-text-opacity: 1;
    border: 0 solid #d9d9e3;
    box-sizing: border-box;
    --tw-border-spacing-x: 0;
    --tw-border-spacing-y: 0;
    --tw-translate-x: 0;
    --tw-translate-y: 0;
    --tw-rotate: 0;
    --tw-skew-x: 0;
    --tw-skew-y: 0;
    --tw-scale-x: 1;
    --tw-scale-y: 1;
    --tw-pan-x: ;
    --tw-pan-y: ;
    --tw-pinch-zoom: ;
    --tw-scroll-snap-strictness: proximity;
    --tw-gradient-from-position: ;
    --tw-gradient-via-position: ;
    --tw-gradient-to-position: ;
    --tw-ordinal: ;
    --tw-slashed-zero: ;
    --tw-numeric-figure: ;
    --tw-numeric-spacing: ;
    --tw-numeric-fraction: ;
    --tw-ring-inset: ;
    --tw-ring-offset-width: 0px;
    --tw-ring-offset-color: #fff;
    --tw-ring-color: rgba(69,89,164,.5);
    --tw-ring-offset-shadow: 0 0 transparent;
    --tw-ring-shadow: 0 0 transparent;
    --tw-shadow-colored: 0 0 transparent;
    --tw-blur: ;
    --tw-brightness: ;
    --tw-contrast: ;
    --tw-grayscale: ;
    --tw-hue-rotate: ;
    --tw-invert: ;
    --tw-saturate: ;
    --tw-sepia: ;
    --tw-drop-shadow: ;
    --tw-backdrop-blur: ;
    --tw-backdrop-brightness: ;
    --tw-backdrop-contrast: ;
    --tw-backdrop-grayscale: ;
    --tw-backdrop-hue-rotate: ;
    --tw-backdrop-invert: ;
    --tw-backdrop-opacity: ;
    --tw-backdrop-saturate: ;
    --tw-backdrop-sepia: ;
    color: inherit;
    font-family: inherit;
    font-weight: inherit;
    --tw-shadow: 0 0 transparent;
    appearance: none;
    border-color: #8e8ea0;
    border-radius: 10px;
    font-size: 1rem;
    line-height: 1.5rem;

    width: 99%;
    resize: none;
    border-width: 0;
    padding-bottom: 10px;
    padding-top: 10px;
    padding-left: .75rem;
    padding-right: 2.5rem;
    background-color: transparent;
    max-height: 200px;
    height: 100px;
    overflow-y: hidden;
    border: 2px solid black;
    }
    
    #outputContainer {
      padding: 10px;
      height: 600px;
      overflow: auto;
      border: 2px solid black;
      border-radius: 20px;
    }
  </style>
</head>

<body>
  <h1>Scribe | AI for Education</h1>

  <form id="promptTextAreaForm" style="position: absolute; bottom: 20px; left: 0; width: 100%; text-align: center;">
    <!-- <textarea id="userInput" name="userInput" placeholder="Enter your question..." style="width: calc(100% - 100px); resize: vertical;" oninput="resizeTextarea()"></textarea> -->
    <textarea id="promptTextArea" tabind ex="0" data-id="root" rows="1" placeholder="Message ChatGPTâ€¦" class="m-0 w-full resize-none border-0 bg-transparent py-[10px] pr-10 focus:ring-0 focus-visible:ring-0 dark:bg-transparent md:py-3.5 md:pr-12 placeholder-black/50 dark:placeholder-white/50 pl-3 md:pl-4" style="max-height: 200px; height: 140px; overflow-y: auto;; font-size: 20px;"></textarea>
    <button type="button" onclick="processInput()" style="width: 30px; margin-right: 20px;" >></button>
  </form>

  <div id="outputContainer">
    <p id="userQuestion"></p>
    <p id="apiResponse"></p>
  </div>

  <script>
    function processInput() {
      // Get user input from the form
      var promptTextArea = document.getElementById('promptTextArea').value;

      // Update the user question on the page
      // document.getElementById('userQuestion').textContent = 'User\'s Question: ' + userInput;

      // Use Fetch API to send the user input to the server
      fetch('/process_input', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: 'promptTextArea=' + encodeURIComponent(promptTextArea),
      })
        .then(response => response.json())
        .then(data => {
          // Update the content of the HTML element with the fetched data
          var apiResponse = data.response_text;
          var outputContainer = document.getElementById('outputContainer');
          var newQuestion = document.createElement('p');
          newQuestion.textContent = 'User\'s Question: ' + promptTextArea;
          var newResponse = document.createElement('p');
          newResponse.textContent = 'Scribe: ' + apiResponse;
          outputContainer.appendChild(newQuestion);
          outputContainer.appendChild(newResponse);
          outputContainer.scrollTop = outputContainer.scrollHeight;
        })
        .catch(error => console.error('Error:', error));
    }
  </script>
</body>
</html>
